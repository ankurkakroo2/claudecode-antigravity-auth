# Required: Your Google AI Studio API key (fallback for Antigravity)
GEMINI_API_KEY="your-google-ai-studio-key"

# Optional: Model mappings for Claude Code aliases
BIG_MODEL="gemini-1.5-pro-latest"    # For 'sonnet' or 'opus' requests
SMALL_MODEL="gemini-1.5-flash-latest" # For 'haiku' requests

# Optional: Server settings
HOST="0.0.0.0"
PORT="8082"
LOG_LEVEL="WARNING"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Optional: Performance and reliability settings
MAX_TOKENS_LIMIT="8192"           # Max tokens for Gemini responses
REQUEST_TIMEOUT="90"              # Request timeout in seconds
MAX_RETRIES="2"                   # LiteLLM retries to Gemini
MAX_STREAMING_RETRIES="12"         # Streaming-specific retry attempts

# Optional: Streaming control (use if experiencing issues)
FORCE_DISABLE_STREAMING="false"     # Disable streaming globally
EMERGENCY_DISABLE_STREAMING="false" # Emergency streaming disable

# =============================================================================
# Antigravity OAuth Configuration
# =============================================================================
# Antigravity provides Google AI subscription models with higher quotas
# through OAuth authentication. Models are accessed via specialized endpoints.

# OAuth Client ID (defaults to opencode-antigravity-auth project's client)
# You can override with your own: https://console.cloud.google.com/apis/credentials
# ANTIGRAVITY_CLIENT_ID="1071006060591-tmhssin2h21lcre235vtolojh4g403ep.apps.googleusercontent.com"

# OAuth Client Secret (defaults to opencode-antigravity-auth project's secret)
# Only needed if using the default client ID above
# ANTIGRAVITY_CLIENT_SECRET="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"

# Enable Antigravity integration (default: false)
# Set to "true" to use Antigravity OAuth for haiku/sonnet/opus model requests
USE_ANTIGRAVITY="false"

# Antigravity model mappings (when USE_ANTIGRAVITY=true)
ANTIGRAVITY_HAIKU_MODEL="antigravity-gemini-3-flash"
ANTIGRAVITY_SONNET_MODEL="antigravity-gemini-3-pro"
ANTIGRAVITY_OPUS_MODEL="antigravity-claude-opus-4.5-thinking"

# =============================================================================
# How to use Antigravity
# =============================================================================
#
# 1. Install Antigravity dependencies:
#    pip install aiohttp google-auth-oauth-lib google-auth
#
# 2. Set USE_ANTIGRAVITY="true" in this file or environment
#
# 3. Authenticate with Google OAuth:
#    python -m gclaude.proxy.server --antigravity-login
#
#    This will:
#    - Open a browser for Google OAuth authentication
#    - Store tokens in ~/.config/gclaude/antigravity-accounts.json
#
# 4. Start the server:
#    python -m gclaude.proxy.server
#    # or
#    uvicorn server:app --reload --host 0.0.0.0 --port 8082
#
# 5. Model routing:
#    - Requests for claude-3-5-haiku-* → antigravity-gemini-3-flash
#    - Requests for claude-sonnet-4-5-* → antigravity-gemini-3-pro
#    - Requests for claude-opus-4-5-* → antigravity-claude-opus-4.5-thinking
#
# 6. Quota management:
#    - Primary: Antigravity OAuth endpoints
#    - Fallback: Direct Gemini API key (automatic on rate limit)
#    - Endpoints tried in order:
#      1. daily-cloudcode-pa.sandbox.googleapis.com
#      2. autopush-cloudcode-pa.sandbox.googleapis.com
#      3. cloudcode-pa.googleapis.com
#
# 7. Check status:
#    curl http://localhost:8082/antigravity-status
#
# =============================================================================
